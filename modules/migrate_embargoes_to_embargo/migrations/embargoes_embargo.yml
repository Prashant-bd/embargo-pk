---
id: embargoes_embargo
label: Transform "embargoes" config entities into "embargo" entities.
source:
  plugin: migrate_embargoes_to_embargo.source.entity
  track_changes: true
  entity_type: embargoes_embargo_entity
  keys:
    id:
      type: string
  source_module: embargoes
destination:
  plugin: entity:embargo
  validate: true
  translations: false
process:
  label: label
  expiration_type: expiration_type
  expiration_date: expiration_date
  exempt_ips:
    - plugin: get
      source: exempt_ips
    - plugin: multiple_values
    - plugin: migration_lookup
      migration: embargoes_ip_ranges
  exempt_users: exempt_users
  additional_emails: additional_emails
  embargoed_node: embargoed_node
migration_dependencies:
  required:
    - embargoes_ip_ranges
migration_tags:
  - migrate_embargoes_to_embargo
